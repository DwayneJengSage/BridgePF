angular.module("bridge",[]),angular.module("bridge").controller("MainController",["$scope","$http",function(a,b){function c(b,c){switch(console.log(arguments),c){case 401:a.message="You must sign in to continue.";break;case 412:a.message="You must sign the terms of use before continuing.";break;default:a.message=b.payload}}a.credentials={},a.signIn=function(){b.post("/api/auth/signIn",a.credentials).success(function(c){b.defaults.headers.common["Bridge-Session"]=c.payload.sessionToken,a.message=c.payload.sessionToken}).error(c)},a.signOut=function(){b.get("/api/auth/signOut").success(function(a,d){delete b.defaults.headers.common["Bridge-Session"],c(a,d)}).error(c)},a.resetPassword=function(){b.post("/api/auth/resetPassword",{email:"test2@sagebase.org"}).success(c).error(c)},a.getUserProfile=function(){b.get("/api/auth/getUserProfile").success(function(b){a.message=b.payload.emails[0]}).error(c)},a.bootstrap=function(){b.get("/bootstrap").success(c).error(c)},console.log(a)}]);var _gaq=[["_setAccount","UA-XXXXXX-X"],["_trackPageview"]];!function(){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}();