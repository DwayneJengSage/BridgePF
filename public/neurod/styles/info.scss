@mixin linear-gradient($fromColor, $toColor) {
    background-color: $toColor; /* Fallback Color */
    background-image: -webkit-gradient(linear, left top, left bottom, from($fromColor), to($toColor)); /* Saf4+, Chrome */
    background-image: -webkit-linear-gradient(top, $fromColor, $toColor); /* Chrome 10+, Saf5.1+, iOS 5+ */
    background-image:    -moz-linear-gradient(top, $fromColor, $toColor); /* FF3.6 */
    background-image:     -ms-linear-gradient(top, $fromColor, $toColor); /* IE10 */
    background-image:      -o-linear-gradient(top, $fromColor, $toColor); /* Opera 11.10+ */
    background-image:         linear-gradient(top, $fromColor, $toColor);
    filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr='#{$fromColor}', EndColorStr='#{$toColor}');
}
@mixin flexbox {
    display: -webkit-box;      /* OLD - iOS 6-, Safari 3.1-6 */
    display: -moz-box;         /* OLD - Firefox 19- (buggy but mostly works) */
    display: -ms-flexbox;      /* TWEENER - IE 10 */
    display: -webkit-flex;     /* NEW - Chrome */
    display: flex;
}
@mixin flex_1 {
    -webkit-box-flex: 1;      /* OLD - iOS 6-, Safari 3.1-6 */
    -moz-box-flex: 1;         /* OLD - Firefox 19- */
    -webkit-flex: 1;          /* Chrome */
    -ms-flex: 1;              /* IE 10 */
    flex: 1;                  /* NEW, Spec - Opera 12.1, Firefox 20+ */
}
@mixin flex_2 {
    -webkit-box-flex: 2;      /* OLD - iOS 6-, Safari 3.1-6 */
    -moz-box-flex: 2;         /* OLD - Firefox 19- */
    -webkit-flex: 2;          /* Chrome */
    -ms-flex: 2;              /* IE 10 */
    flex: 2;                  /* NEW, Spec - Opera 12.1, Firefox 20+ */
}
@mixin joinButton {
    border: 1px solid $buttonBorderColor;
    border-radius: .8rem;
    color: white;
    font-size: 1.8rem;
    letter-spacing: .4rem;
    text-shadow: 0 2px rgba(0,0,0,.1);
    @include linear-gradient($buttonGradientTop, $buttonGradientBottom);
}

$width: 102.4rem;
$green: #A9D385;
$orange: #EFC785;
$pink: #E086B7;
$blue: #95C0C9;
$buttonGradientTop: #A6DEF1;
$buttonGradientBottom: #81D2EF;
$buttonBorderColor: #808284;
$boxBorderColor: #D1D2D4;
$darkGrayBorderColor: #AAAAAA;
$white: #FFFFFF; /* May be off-white eventually; */
$linkTextColor: #666666; 
$black: #000000; /* text shadow */
$panelBorderColor: #D1D2D4;

$navBackgroundColor: #F1F1F2;
$navBorderColor: #D1D2D4;

$textColor: #58585B;
$promptTextColor: #A7A9AB;
$linkColor: #83B786;

/* Fixes the boostrap CSS in the Angular version of Bootstrap. */
.nav, .pagination, .carousel, .panel-title a { 
    cursor: pointer; 
}
.modal-footer { margin-top: 0; }

.modal { overflow-y: auto; }
.modal-open{ overflow: auto; overflow-x: hidden; }

/* This gets around the failure of sm/lg classes to work through the Angular-UI modal
    API. Setting it on the window instead, and forcing the styling here. */
.sm .modal-dialog {
    width: 300px;
}
.lg .modal-dialog {
    width: 600px;
}


html {
    font-size: 10px;
}
@media (max-width: 1023px) {
  html { font-size: 8px; }
  .bullet { font-size: 12px; }
}
@media (min-width: 1240px) {
  html { font-size: 12px; }
  .bullet { font-size: 16px; }
}
.border {
    color: $textColor;
    max-width: $width;
    margin: 0 auto;
    position: relative;
    margin-bottom: 30rem;
}
a, a:hover {
    color: $linkColor;
    cursor: pointer;
}
.caps {
    font-variant: small-caps;
}
.help-text {
    color: $boxBorderColor;
    font-weight: normal;
}
.field-error {
    color: rgb(169, 68, 66);
}
/* Login */
form[name='signInForm'] {
    input[name='username'], input[name='password'] {
        width: 10rem;
    }
}
.header {
    display: table;
    width: 100%;
    background-color: $white;
    max-width: $width;
    position: fixed;
    z-index: 11;
    background: white url(/neurod/images/bridge_logo.svg) left center no-repeat;
    background-size: 9rem;
    
    > * {
        display: table-cell;
        height: 7rem;
        vertical-align: middle;
    }
    h1 {
        margin: 0;
        padding: 0;
        font-size: 2.1rem;
        letter-spacing: .1rem;
        padding-left: 8rem;
        font-family: 'Helvetica Neue', sans-serif;
    }
    .auth {
        text-align: right;
        padding-right: 1.2rem;
        color: $promptTextColor;
        font-size: 1.1rem;
        letter-spacing: 1px;
        
        button {
            margin-left: 1rem;
        }
    }
}
	
nav {
    background-color: $navBackgroundColor;
    border-top: 2px solid $navBorderColor;
    padding: 0 1rem;
    position: fixed;
    width: 100%;
    max-width: $width;
    top: 7rem;
    z-index: 12;
    @include flexbox;
	
	> div {
        position: relative;
        display: inline-block;
        border: 1px solid $darkGrayBorderColor;
        border-right: none;
        background-color: white;
        padding: .5rem;
        padding-left: 6rem;
        height: 5rem;
        line-height: 1.9rem;
        @include flex_1;        
	}
	> div:nth-child(1) {
        background: $white url(../images/aboutthestudy_icon.svg) 1rem center no-repeat;
        background-size: 5rem;
        
        -webkit-border-top-left-radius: .4rem;
        -moz-border-radius-topleft: .4rem;
        border-top-left-radius: .4rem;
        -webkit-border-bottom-left-radius: .4rem;
        -moz-border-radius-bottomleft: .4rem;
        border-bottom-left-radius: .4rem;
	}
    > div:nth-child(2) {
        background: $white url(../images/participantstories_icon.svg) 1rem center no-repeat;
        background-size: 4.5rem;
    }
    > div:nth-child(4) {
        background: $white url(../images/meettheresearchers_icon.svg) 1rem center no-repeat;
        background-size: 5rem;
        border-left: none ! important;
    }
    > div:nth-child(3) { /* JOIN */
        padding: 0 2rem;
        text-align: center;
        border: none;
       
        a, a:hover {
            @include joinButton;
            position: absolute;
            z-index: 10;
            height: 7.8rem;
            line-height: 7.8rem;
            top: -1.5rem;
            left: 0;
            display: block;
            width: 100%;
            font-size: 2.2rem;
            font-weight: bold;
            letter-spacing: .3rem;
        }
        a:hover {
            text-decoration: none;
        }
    }
    > div:nth-child(5) {
        background: $white url(../images/researchersjournal_icon.svg) 1rem center no-repeat;
        background-size: 4.5rem;
        border-right: 1px solid $darkGrayBorderColor;
        
        -webkit-border-top-right-radius: .4rem;
        -moz-border-radius-topright: .4rem;
        border-top-right-radius: .4rem;
        -webkit-border-bottom-right-radius: .4rem;
        -moz-border-radius-bottomright: .4rem;
        border-bottom-right-radius: .4rem;
    }
    > div.selected {
       background-color: $promptTextColor;
    }
    > div > a, > div > a:hover {
        color: $linkTextColor;
        display: block;
        font-weight: bold;
        overflow: hidden;
    }
}
.splash {
    background-color: peru;
    height: 30rem;
    position: relative;
    top: 12rem;
    
    > div {
        position: absolute;
        height: 30rem;
        width: 25.5rem;
        left: 4rem;
        top: 5.8rem;
        color: white;
        
        div:first-child {
            font-size: 4.5rem;
            line-height: 1.1;
            
            b {
                font-size:4.9rem;
            }
        }
        div:last-child {
            font-size: 1.7rem;
        }
    }
}
section.main {
    background-color: $navBackgroundColor;
    
    &.about_the_study {
        h2 {
            background: $green url(../images/aboutthestudy_icon_white.svg) 1rem center no-repeat;
            background-size: 5.5rem;
        }
    }
    &.participant_stories {
        h2 {
            background: $pink url(../images/participantstories_icon_white.svg) 1.8rem center no-repeat;
            background-size: 5.5rem;
        }
    }
    &.meet_the_researchers {
        h2 {
            background: $orange url(../images/meettheresearchers_icon_white.svg) 1.8rem center no-repeat;
            background-size: 5.5rem;
        }
    }
    &.researchers_journal {
        padding-bottom: 2rem;
    
        h2 {
            background: $blue url(../images/researchersjournal_icon_white.svg) 2rem center no-repeat;
            background-size: 4.5rem;
        }
    }
    h2 {
        margin: 0;
        color: white;
        font-size: 2.2rem;
        padding: 1.6rem;
        padding-left: 8rem;
        text-shadow: .1rem .1rem .2rem rgba(0,0,0,.2);
        letter-spacing: 1px;
    }
    > p {
        font-size: 1.6rem;
        margin: 1.5rem 3rem;
        margin-left: 8rem;
    }
    > h3 {
        margin-top: 3rem ! important;
        font-size: 1.8rem;
        margin: 1.5rem 3rem;
        margin-left: 8rem;
    }
    > .panels {
        margin: 1.5rem 3rem 0 1.5rem;
        margin-left: 8rem;
        padding-bottom: 2rem;
        @include flexbox;

        h4 {
            font-size: 1.4rem;
            padding: 0 .5rem;
        }      

        .panel {
            border-color: $panelBorderColor;
            margin: 0 .5rem;
            @include flex_1;
            
            h4 {
                font-weight: normal;
                padding-top: 9rem;
                height: 13rem;
                margin: 0 .2rem;
                text-align: center;
                font-size: 1.6rem;
                letter-spacing: 1px;
            }
            &:nth-child(1) h4 {
                background: white url(../images/howitworks_1.svg) center top no-repeat;
                background-size: 10rem;
            }
            &:nth-child(2) h4 {
                background: white url(../images/howitworks_2.svg) center top no-repeat;
                background-size: 10rem;
            }
            &:nth-child(3) h4 {
                background: white url(../images/howitworks_3.svg) center top no-repeat;
                background-size: 10rem;
            }
            &:nth-child(4) h4 {
                background: white url(../images/howitworks_4.svg) center top no-repeat;
                background-size: 10rem;
            }
            &:nth-child(5) h4 {
                background: white url(../images/howitworks_5.svg) center top no-repeat;
                background-size: 10rem;
            }
            p {
                margin: 1rem 1rem .7rem 1rem;
                font-size: 1.4rem;
                line-height: 1.3;
                letter-spacing: 1px;
            }
        }
        .panel:first-child {
            margin-left: 0;
        }
        .panel:last-child {
            margin-right: 0;
        }
    }
    &.researchers_journal .panel { /* Researchers' Journal */
        margin: 1.5rem 8rem 0 1.5rem;
        margin-left: 8rem;
        font-size: 1.6rem;
        
        > div {
            display: table-row;
            > * {
                padding: 1.5rem;
                display: table-cell;
                vertical-align: top;
            }
        }
    }
    .comments {
        color: $blue;
    }
    .more_entries {
        padding-right: 8rem;
        text-align: right;
    }
}
.subnav {
    border-bottom: 2px solid $navBorderColor;
    
    > * {
        font-size: 1.5rem;
        color: #95C0C9;
    }
}
.final_subnav {
    background-color: $green;
    color: $white;
    font-size: 2rem;
    padding: 1rem 8rem;
}
section.about {
    @include flexbox;
    
    &:nth-child(even) {
        background-color: $navBackgroundColor;
        border-top: 2px solid $navBorderColor;
        border-bottom: 2px solid $navBorderColor;
    }
    
    > div {
        @include flex_1;
        padding: 1.5rem 1.5rem 1.5rem 1.5rem;
                
        img {
            display: block;
        }
        p {
            font-size: 1.8rem;
        }
        .btn {
            border: 1px solid $buttonBorderColor;
            border-radius: .8rem;
            color: white;
            font-size: 1.8rem;
            letter-spacing: .4rem;
            text-shadow: 0 2px rgba(0,0,0,.3);
            @include linear-gradient($buttonGradientTop, $buttonGradientBottom);
        }
        h2 {
            margin: 0; padding: 0;
            margin-top: 1rem;
        }
        h3 {
            margin: 0;
            margin-bottom: 1.5rem;
            font-size: 2.4rem;
        }
    }
}
section.join {
    .btn {
        @include joinButton;
        font-size: 1.4rem;
    }
    background: transparent url(../images/eligible_checkmark.svg) 0% 0% no-repeat;
    background-size: 10rem;
    
    table {
        margin-bottom: 2rem;
    }
    table td {
        vertical-align: top;
    }
    table td:first-child {
        padding-right: 1rem;
        padding-bottom: .75rem;
    }
    .bullet {
        display: inline-block; 
        width: 2rem; 
        height: 2rem;
        text-align: center; 
        border-radius: 50%; 
        background-color: $green; 
        color: white;
    }
}
section.joined {
    padding-left: 8rem;
    font-size: 1.8rem;
    
    .well {
        h4 {
            font-size: 2rem;
        }
        .icon {
            float: left;
            width: 7rem;
            height: 7rem;
        }
        .icon.email {
            background: transparent url(../images/email_icon.svg) center no-repeat;
        }
        .icon.phone {
            background: transparent url(../images/phone_icon.svg) center no-repeat;
        }
        .small {
            margin-left: 7rem; 
            font-size: 1.4rem;
        }
        a.btn {
            margin: 0; padding: 0;
            margin-right: 1rem;
        }
    }
}
footer {
    @include flexbox;
    border-top: 1px solid $boxBorderColor;
    padding: 1rem 0;
     
    .sage_logo {
        width: 23.1rem;
        height: 6rem;
        background: white url(../images/sage_logo.svg) center left no-repeat;
        background-size: contain;
        @include flex_1;
    }
    .center {
        @include flex_2;
    }
    .rwjf_logo {
        width: 23.1rem;
        height: 6rem;
        background: white url(../images/rwjf_logo.svg) center right no-repeat;
        background-size: contain;
        @include flex_1;
    }
}

/* required ui-bootstrap tweak of bootstrap */
.nav, .pagination, .carousel, .panel-title a { cursor: pointer; }